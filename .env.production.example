# ═══════════════════════════════════════════════════
# RDVPriority - Production Environment Variables
# ═══════════════════════════════════════════════════
# Copy this file to .env and fill in ALL values before deploying.
# Generate secrets with: openssl rand -base64 32
# ═══════════════════════════════════════════════════

# ── Database ──────────────────────────────────────
POSTGRES_USER=rdv_prod_user
POSTGRES_PASSWORD=CHANGE_ME_GENERATE_STRONG_PASSWORD
POSTGRES_DB=rdvpriority
DATABASE_URL=postgresql://rdv_prod_user:CHANGE_ME_GENERATE_STRONG_PASSWORD@postgres:5432/rdvpriority
DATABASE_POOL_SIZE=20
DATABASE_POOL_TIMEOUT=10

# ── Redis ─────────────────────────────────────────
REDIS_URL=redis://redis:6379

# ── Authentication (CRITICAL) ────────────────────
# Generate unique secrets: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_RUN_openssl_rand_base64_32
JWT_REFRESH_SECRET=CHANGE_ME_RUN_openssl_rand_base64_32_DIFFERENT

# ── Stripe Payments ──────────────────────────────
# Dashboard: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_CHANGE_ME
STRIPE_PUBLISHABLE_KEY=pk_live_CHANGE_ME
# Webhook endpoint: https://rdvpriority.fr/api/billing/webhook
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME

# ── Email (Resend) ───────────────────────────────
# Dashboard: https://resend.com/api-keys
RESEND_API_KEY=re_CHANGE_ME
EMAIL_FROM=alerte@rdvpriority.fr

# ── WhatsApp Cloud API ───────────────────────────
# Setup: https://developers.facebook.com
WHATSAPP_PHONE_ID=CHANGE_ME
WHATSAPP_ACCESS_TOKEN=CHANGE_ME

# ── Telegram ─────────────────────────────────────
# Create bot: https://t.me/BotFather
TELEGRAM_BOT_TOKEN=CHANGE_ME
# Message @userinfobot on Telegram to get your chat ID
ADMIN_TELEGRAM_CHAT_ID=CHANGE_ME

# ── Firebase (FCM Push Notifications) ────────────
# Console: https://console.firebase.google.com
FIREBASE_PROJECT_ID=CHANGE_ME
FIREBASE_CLIENT_EMAIL=CHANGE_ME
FIREBASE_PRIVATE_KEY=CHANGE_ME

# ── Anti-Bot Infrastructure ──────────────────────
WEBSHARE_API_TOKEN=CHANGE_ME
TWOCAPTCHA_API_KEY=CHANGE_ME

# ── Error Monitoring (Optional) ──────────────────
SENTRY_DSN=

# ── App Configuration ────────────────────────────
FRONTEND_URL=https://rdvpriority.fr
PORT=4000
NODE_ENV=production

# ── Bootstrap Mode ───────────────────────────────
# Enable for budget-constrained launch (~15-20 EUR/month)
BOOTSTRAP_MODE=true
